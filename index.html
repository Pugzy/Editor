<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Forum Post Formatter</title>
    <link href="css/bootstrap.min.css" rel="stylesheet">
	<link href="data:image/x-icon;base64,AAABAAEAEBAQAAEABAAoAQAAFgAAACgAAAAQAAAAIAAAAAEABAAAAAAAgAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAJ6TrAFy+8QCC0vgA7+/vAC6n7ACE0/gAS2RuAKbU5QDAwMAAv+3+ACek6gApoeYAAAAAAAAAAAAAAAAARERERERERABEREREREREAEREREREREQAREREeIRERABJmZSohUREAERERKolVEQAREREozUVRABJmZRDNlFUAEREREQzZRUAREREREM2W1BJmZmZRDNlxUREREREQzZVREREREREMzVJmZmZmURDM0REREREREQzRERERERERAMAAwAAAAMAAAADAAAAAwAAAAMAAAADAAAAAwAAAAMAAAADAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAA" rel="icon" type="image/x-icon" />
    	
	  <script type = "text/javascript">
		
		function wrap(start, end) { 
			var g = document.getElementById("textOutput");
			g.focus();
			if (g.setSelectionRange) {
				var c = g.scrollTop; 
				var e = g.selectionStart;
				var f = g.selectionEnd; 
				g.value = g.value.substring(0, g.selectionStart) + start + g.value.substring(g.selectionStart, g.selectionEnd) + end + g.value.substring(g.selectionEnd, g.value.length);
				g.selectionStart = e;
				g.selectionEnd = f + start.length + end.length; g.scrollTop = c;
			} else { 
				if (document.selection && document.selection.createRange) { 
					g.focus(); 
					var b = document.selection.createRange();
					if (b.text != "") {
						b.text = start + b.text + end; 
					} else { 
						b.text = start + "REPLACE" + end; 
					} 
					g.focus();
				}
			} 
			
		}
		
		function outputClear(){
			var textOutput = document.getElementById("textOutput");
			textOutput.value = ""
			}
			
		function clearInput(){
			var inputTitle = document.getElementById("inputTitle");
			var inputTask = document.getElementById("inputTask");
			var inputName = document.getElementById("inputName");
			var textArea = document.getElementById("textArea");
			var inputImage = document.getElementById("inputImage");
			var inputImage2 = document.getElementById("inputImage2");
			var inputCode = document.getElementById("inputCode");
			
			inputTitle.value = ""
			inputTask.value = ""
			inputName.value = ""
			textArea.value = ""
			inputImage.value = ""
			inputImage2.value = ""
			inputCode.value = ""
			}
			
		function select_all(obj) {
			var text_val=eval(obj);
			text_val.focus();
			text_val.select();
			if (!document.all) return; // IE only
			r = text_val.createTextRange();
			r.execCommand('copy');
			}

		function createOutput(){
			var inputTitle = document.getElementById("inputTitle");
			var inputTask = document.getElementById("inputTask");
			var inputName = document.getElementById("inputName");
			var textArea = document.getElementById("textArea");
			var inputImage = document.getElementById("inputImage");
			var inputImage2 = document.getElementById("inputImage2");
			var inputCode = document.getElementById("inputCode");

			var textOutput = document.getElementById("textOutput");

			var title = inputTitle.value;
			var task = inputTask.value;
			var name = inputName.value;
			var text = textArea.value;
			var image = inputImage.value;
			var image2 = inputImage2.value;
			
			var outputText = ""
				
			if (inputTitle.value && inputTask.value && inputName.value){ //If there was a name and task inputted
				outputText = title + ("\n") +
				"-----------" + ("\n") + " > " + task + " by " + "[" + name + "][" + name + "]" +
				("\n") + "[" + name + "]: http://oc.tc/" + name +
				("\n\n"); // Add to text to text
				} else {
					outputText = "Please enter required fields."
				}

			if (inputTitle.value && inputTask.value && inputName.value && textArea.value){ //If there was text inputted
				outputText = outputText  + text + ("\n\n"); // Add to text to text
				}
			
			if (inputTitle.value && inputTask.value && inputName.value && inputImage.value){ //If there was image inputted
				outputText = outputText + "![" + title + "image1][" + title + "image1]" + ("\n") +
				" [" + title + "image1]: " + image + ("\n\n"); // Add to image text
				}
				
			if (inputTitle.value && inputTask.value && inputName.value && inputImage2.value){ //If there was a second image inputted
				outputText = outputText + "![" + title + "image2][" + title + "image2]" + ("\n") +
				" [" + title + "image2]: " + image2 + ("\n\n"); // Add to image2 text
				}
			
			if (inputTitle.value && inputTask.value && inputName.value && inputCode.value){ //If there was text inputted 
				
				var lines = inputCode.value.split("\n") //Split it into an array
				var newCode = ""; // String buffer
				for ( var line in lines ){ //For each line
					var newLine = "    " + lines[line]; //Get the new line and add four spaces infront of it
					newCode = newCode + newLine + "\r\n"; //Add it to buffer
				}
				outputText = outputText + newCode + ("\n\n"); // Add to output text
			}
			
			textOutput.value = outputText;
		}
		
		// ADDING RATHER THAN REPLACING.
		
		function addOutput(){
			var inputTitle = document.getElementById("inputTitle");
			var inputTask = document.getElementById("inputTask");
			var inputName = document.getElementById("inputName");
			var textArea = document.getElementById("textArea");
			var inputImage = document.getElementById("inputImage");
			var inputImage2 = document.getElementById("inputImage2");
			var inputCode = document.getElementById("inputCode");

			var textOutput = document.getElementById("textOutput");

			var title = inputTitle.value;
			var task = inputTask.value;
			var name = inputName.value;
			var text = textArea.value;
			var image = inputImage.value;
			var image2 = inputImage2.value;	

			var outputText = textOutput.value;
							
			if (inputTitle.value && inputTask.value && inputName.value){ //If there was a name and task inputted
				outputText = outputText + title + ("\n") +
				"-----------" + ("\n") + " > " + task + " by " + "[" + name + "][" + name + "]" +
				("\n") + "[" + name + "]: http://oc.tc/" + name +
				("\n\n"); // Add to text to text
				}

			if (inputTitle.value && inputTask.value && inputName.value && textArea.value){ //If there was text inputted
				outputText = outputText  + text + ("\n\n"); // Add to text to text
				}
			
			if (inputTitle.value && inputTask.value && inputName.value && inputImage.value){ //If there was image inputted
				outputText = outputText + "![" + title + "image1][" + title + "image1]" + ("\n") +
				" [" + title + "image1]: " + image + ("\n\n"); // Add to image text
				}
				
			if (inputTitle.value && inputTask.value && inputName.value && inputImage2.value){ //If there was a second image inputted
				outputText = outputText + "![" + title + "image2][" + title + "image2]" + ("\n") +
				" [" + title + "image2]: " + image2 + ("\n\n"); // Add to image2 text
				}
			
			if (inputTitle.value && inputTask.value && inputName.value && inputCode.value){ //If there was text inputted 
				
				var lines = inputCode.value.split("\n") //Split it into an array
				var newCode = ""; // String buffer
				for ( var line in lines ){ //For each line
					var newLine = "    " + lines[line]; //Get the new line and add four spaces infront of it
					newCode = newCode + newLine + "\r\n"; //Add it to buffer
				}
				outputText = outputText + newCode + ("\n\n"); // Add to output text
			}
			
			textOutput.value = outputText;
		}
	</script>
	
  </head>
  <body>
	<br>
      <div class="container">
        <div class="row">
          <div class="col-lg-6">
            <div class="well bs-component">
              <form class="form-horizontal">
                <fieldset>
                  <legend>Text Editor - Input</legend>
				  <div class="form-group">
                    <label for="inputTitle" class="col-lg-2 control-label"><span style="color:red">*</span> Title:</label>
                    <div class="col-lg-10">
                      <input type="text" class="form-control" id="inputTitle" placeholder="Title of section" required="required">
                    </div>
                  </div>
				  
				  <div class="form-group">
                    <label for="inputTask" class="col-lg-2 control-label"><span style="color:red">*</span> Task:</label>
                    <div class="col-lg-10">
                      <input type="text" class="form-control" id="inputTask" placeholder="Verb/Description" required="required">
					  <span class="help-block">eg. Developed, Created, Made, Written, Banned.</span> 
                    </div>
                  </div>
				  
				  <div class="form-group">
                    <label for="inputName" class="col-lg-2 control-label"><span style="color:red">*</span> Name:</label>
                    <div class="col-lg-10">
                      <input type="text" class="form-control" id="inputName" placeholder="Players Username" required="required">
                    </div>
                  </div>
				  
				  
				  <div class="form-group">
                    <label for="textArea" class="col-lg-2 control-label"><span style="color:red">*</span> Text:</label>
                    <div class="col-lg-10">
                      <textarea class="form-control" rows="3" id="textArea" placeholder="Main text of the article" required="required"></textarea>
                      <span class="help-block">- Those marked with <span style="color:red">*</span> are required.</span>
                    </div>
                  </div>
				  
				  <div class="form-group">
                    <label for="inputImage" class="col-lg-2 control-label">Image:</label>
                    <div class="col-lg-10">
                      <input type="text" class="form-control" id="inputImage" placeholder="Image URL if required">
                    </div>
                  </div>
				  
				  <div class="form-group">
                    <label for="inputImage2" class="col-lg-2 control-label"></label>
                    <div class="col-lg-10">
                      <input type="text" class="form-control" id="inputImage2" placeholder="Another Image URL if required">
                    </div>
                  </div>
				  
				  <div class="form-group">
                    <label for="inputCode" class="col-lg-2 control-label">Code:</label>
                    <div class="col-lg-10">
					  <textarea class="form-control" rows="3" id="inputCode" placeholder="Code if required"></textarea>
                    </div>
                  </div>

                  <div class="form-group">
                    <div class="col-lg-10 col-lg-offset-2">
                      <input type="button" class="btn btn-default" onclick="createOutput()" value="Create New"></input>
					  <input type="button" class="btn btn-default" onclick="clearInput()" value="Clear"></input>
					  <input type="button" class="btn btn-default" onclick="addOutput()" value="Add to Current"></input>
                    </div>
			      </div>
                </fieldset>
              </form>
            </div>
          </div>
		  <div class="col-lg-6">
			<div class="well bs-component">

              <form class="bs-component">
                <div class="form-group">
                  <legend>Text Result - Output</legend>
				  <textarea class="form-control" rows="19" id="textOutput"></textarea>
                </div>
				


                    <span class="group-btn">
                      <button class="btn btn-default" type="button" onclick="outputClear()">Clear</button>
					  <script type="text/javascript">
						
					</script>
                    <button class="btn btn-default" type="button" onclick="select_all(textOutput)">Select All</button>
					  
                    </span>
					<span style="float: right;padding-right: 10px;color: silver;font-size: 12px;"><i><p>Created by iPGz</p></i></span>
                  </div>
                </div>
              </form>
		</div>
    </div>
	
    <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    
  </body>
</html>
